# 搜索股票资金流向功能测试指南

## 🎯 测试目标
验证股票搜索结果中是否正确显示资金流向数据（仅针对A股）

## 🧪 测试步骤

### 1. 启动程序
```bash
./cmd/stock-monitor
```

### 2. 进入股票搜索
- 在主菜单选择 "股票搜索"
- 或者从自选列表按 `A` 键快速进入搜索

### 3. 测试A股搜索
测试以下A股股票代码或名称：
- `SH600519` (贵州茅台)
- `SZ000001` (平安银行)  
- `SH601138` (工业富联)
- `比亚迪` (中文名称搜索)
- `腾讯` (港股，测试是否正确显示资金流向)

### 4. 测试美股搜索
测试以下美股代码（应该不显示资金流向）：
- `AAPL` (苹果)
- `TSLA` (特斯拉)

## ✅ 预期结果

### A股搜索结果应包含：
1. **基础信息**: 代码、名称、现价、昨收价等
2. **价格信息**: 开盘价、最高价、最低价
3. **交易信息**: 今日涨幅、换手率、成交量
4. **资金流向数据** (新增)：
   - 主力净流入
   - 超大单
   - 大单
   - 中单
   - 小单
   - 净流入占比

### 美股搜索结果应包含：
- 基础和价格信息
- **不包含**资金流向数据

## 🎨 显示格式
- 资金流向数据应显示为表格的最后几列
- 金额自动选择单位（万/亿）
- 使用颜色区分：
  - 红色：资金流入（正值）
  - 绿色：资金流出（负值）
  - 白色：平衡（接近0）

## 🔧 注意事项
1. 首次获取资金流向数据可能需要几秒钟
2. 资金流向数据仅适用于中国A股（SH/SZ开头的股票）
3. 如果Python环境或AKShare未正确配置，资金流向数据可能显示为0
4. 网络问题可能导致资金流向数据获取失败

## 🐛 故障排除
如果资金流向数据显示异常：
1. 检查Python虚拟环境是否正常：`venv/bin/python --version`
2. 检查AKShare是否安装：`venv/bin/python -c "import akshare"`
3. 手动测试资金流向脚本：`venv/bin/python scripts/akshare_fund_flow.py SH600519`
4. 开启调试模式查看详细错误信息